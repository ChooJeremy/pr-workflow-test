on: 
  issue_comment: 
    # todo do it only on created comments --> if not edittinig a comment that has rfr will cause review workflow to run again when not needded?
  # reference for on issue comment https://docs.github.com/en/actions/reference/events-that-trigger-workflows#issue_comment

jobs: 
  pr_commented: 
    name: PR Comment
    if: ${{ github.event.issue.pull_request }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - run: |
          echo "Comment on PR #${{ github.event.issue.number }} here's the ref ${{ github.event.pull_request.head.sha }}"
      
      - name: Check if ready for review was commented on PR
        uses: ./.github/ready_for_review # this uses the action file in the stated file to run the workflow
        with: 
          repo-token: ${{secrets.GITHUB_TOKEN}}
          ref: ${{ github.event.pull_request.head.sha }} # todo check if correct checks are being returned in comment

# todo - a different case - if a comment has been editted to remove the "@bot ready for review, remove the label?" --> just implement @undo command for this?
